// Generated by CoffeeScript 1.4.0
(function(){var e,t;e=function(){function e(e,t,n,r){this.text=e,this.angle=t,this.radius=n,this.originNode=r,this.originNode.style.display="none"}return e.prototype.setPaper=function(e){this.paper=e},e.prototype.render=function(){var e;this.paper.setStart(),this.textElement=this.paper.text(this.radius,0," "+this.text+" "),this.textElement.attr({"font-size":15,"text-anchor":"start"}),e=this.textElement.getBBox(),this.boxElement=this.paper.rect(e.x,e.y,e.width,e.height),this.boxElement.attr({fill:"#99f",stroke:0}),this.textElement.toFront(),this.set=this.paper.setFinish(),this.set.attr({cursor:"pointer"});if(this.eventsBound==null)return this.bindEvents()},e.prototype.bindEvents=function(){var e=this;return this.eventsBound=!0,this.set.mouseover(function(){var t;return t={fill:"#44f"},e.boxElement.animate(t,400,"<>")}),this.set.mouseout(function(){var t;return t={fill:"#99f"},e.boxElement.animate(t,400,"<>")})},e.prototype.setAngle=function(e){return this.angle=e,this.show()},e.prototype.hide=function(){var e;return e={transform:"r-10,0,0"},this.set.animate(e,800,"<")},e.prototype.show=function(){var e;return e={transform:"r"+this.angle+",0,0"},this.set.animate(e,800,"<>")},e}(),t=function(){function t(e,t,n,r,i){var s,o,u,a,f,l,c,h,p;this.domSource=e,this.domTarget=t!=null?t:this.domSource,this.radius=n,this.width=r!=null?r:200,this.height=i!=null?i:200,this.items=[],h=this.domSource.childNodes;for(u=0,f=h.length;u<f;u++){o=h[u];if(o.nodeName!=="LI")throw new Error("Expected, <li> child nodes, found "+o.nodeName);p=o.childNodes;for(a=0,l=p.length;a<l;a++){s=p[a];if(s.nodeName!=="A")throw new Error("Expected, <a> grandchild node, found "+s.nodeName);this.addItem(s)}}c=this,this.itemsShown=!1,new Raphael(this.domTarget,this.width,this.height,function(){return c.paper=this,c.render()})}return t.prototype.render=function(){var e,t,n,r,i,s,o,u,a=this;this.center=this.paper.ellipse(0,0,this.radius,this.radius),this.center.attr({fill:"r#55f-#99f",stroke:0}),i=80,n=i/this.items.length,e=10,u=this.items;for(t=s=0,o=u.length;s<o;t=++s)r=u[t],r.setPaper(this.paper),r.render(),r.setAngle(e),e+=n;return this.center.toFront(),this.itemsShown=!0,this.center.click(function(){return a.toggleItems()})},t.prototype.toggleItems=function(){var e,t,n,r,i,s,o;if(this.itemsShown){s=this.items;for(t=0,r=s.length;t<r;t++)e=s[t],e.hide()}if(!this.itemsShown){o=this.items;for(n=0,i=o.length;n<i;n++)e=o[n],e.show()}return this.itemsShown=!this.itemsShown},t.prototype.addItem=function(t){return this.items.push(new e(t.text,0,this.radius,t))},t}(),window.Radial=t}).call(this);